(this.webpackJsonpfindme=this.webpackJsonpfindme||[]).push([[4],{246:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return je}));var a=n(3),i=n.n(a),c=n(20),r=n(84),o=n(5),l=n(58),s=n(18),d=n(151),j=n(242),u=n(154),b=n(248),m=n(147),h=n(81),f=n(89),x=n(19),O=n(241),g=n(251),p=n(139),v=n(186),y=n.n(v),C=n(8),S=function(e){var t=e.label,n=e.handleAddTag,c=e.variant,r=e.sx,o=i.a.useState([]),l=Object(s.a)(o,2),d=l[0],j=l[1],u=i.a.useState(""),m=Object(s.a)(u,2),h=m[0],f=m[1];return Object(a.useEffect)((function(){n(d)}),[d]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(b.a,{variant:c,sx:r,value:h,onKeyDown:function(e){if(!(d.length>=5)&&""!==h&&!(h.length>9))return 32===e.keyCode?(j((function(e){return[].concat(Object(x.a)(e),[h])})),f("")):void 0},onChange:function(e){if(!(e.target.value.length>9))return d.length>=5?f(""):void f(e.target.value)},label:t,InputProps:{startAdornment:(null===d||void 0===d?void 0:d.length)>0&&Object(C.jsx)(p.a,{sx:{display:"flex"},children:d.map((function(e,t){return Object(C.jsx)(O.a,{direction:"row",gap:1,marginBottom:1,marginRight:1,children:Object(C.jsx)(g.a,{label:e,onDelete:function(){return function(e){var t=d.filter((function(t){return t!==e}));f(""),j(t)}(e)},icon:Object(C.jsx)(y.a,{fontSize:"small"})})},t)}))})}})})},T=n(247),D=n(255),E=n(249),R=n(245),B=function(e){var t=e.id,n=e.sx,a=e.labelSx,i=e.label,c=e.labelId,r=e.variant,o=e.data,l=e.value,s=e.name,d=e.required,j=e.handleChange;return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(D.a,{variant:r,sx:n,children:[i&&Object(C.jsx)(E.a,{sx:a,id:c,children:i}),Object(C.jsx)(R.a,{labelId:c,id:t,value:l,label:i,name:s,onChange:j,required:d,children:o.map((function(e){return Object(C.jsx)(T.a,{value:e.name,children:e.name},e.id)}))})]})})},F=n(149),w=n(256),I=n(257),P=n(187),W=n.n(P),A=function(e){var t=e.progress,n=e.fileName,a=e.handleRemoveFile;return Object(C.jsxs)(p.a,{component:"div",display:"flex",flexDirection:"column",sx:{minWidth:"10em",marginX:"2em",marginBottom:"0.6em"},children:[Object(C.jsxs)(p.a,{component:"div",display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(C.jsx)(u.a,{variant:"caption",children:n}),Object(C.jsx)(w.a,{size:"small",onClick:function(){return a(n)},children:Object(C.jsx)(W.a,{fontSize:"small"})})]}),Object(C.jsx)(I.a,{variant:"determinate",value:t})]})},_=i.a.memo(A),k=function(e){var t=e.id,n=e.wrapperStyle,a=e.handleFileChange,i=e.variant,c=e.multiple,r=e.progress,o=e.fileName,l=e.loading,s=e.acceptOnlyFormats,d=e.handleRemoveFile;return Object(C.jsxs)(p.a,{component:"div",display:"flex",alignItems:"center",style:n,children:[Object(C.jsxs)("label",{htmlFor:t,children:[Object(C.jsx)("input",{style:{display:"none"},accept:null===s||void 0===s?void 0:s.join(", "),id:t,multiple:c,type:"file",onChange:a}),Object(C.jsx)(m.a,{variant:i,component:"span",disabled:l||Boolean(o),children:l?Object(C.jsx)(F.a,{size:20}):"Upload"})]}),r||o?Object(C.jsx)(_,{progress:r,handleRemoveFile:d,fileName:o}):null]})},N=i.a.memo(k),U=n(74),q=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(""),r=Object(s.a)(c,2),o=r[0],l=r[1],d=Object(a.useState)(!1),j=Object(s.a)(d,2),u=j[0],b=j[1],m=Object(a.useState)(""),h=Object(s.a)(m,2),f=h[0],x=h[1],O=Object(a.useState)(0),g=Object(s.a)(O,2),p=g[0],v=g[1];return{onFileChange:function(e){v(0),b(!0),x(""),l(e.name),function(e){return new Promise((function(t,n){U.a.ref().child("images/".concat(e.name)).put(e).then((function(e){e.ref.getDownloadURL().then((function(n){t({url:n,percent:e.bytesTransferred/e.totalBytes*100})}))})).catch((function(e){return n(e)}))}))}(e).then((function(e){var t=e.url,n=e.percent;i(t),v(n),b(!1),x("")})).catch((function(e){x(e),v(0),b(!1)}))},fileUrl:n,progress:p,error:f,loading:u,fileName:o,removeFile:function(e){b(!0),function(e){return new Promise((function(t,n){U.a.ref().child("images/".concat(e)).delete().then((function(e){t(e)})).catch((function(e){return n(e)}))}))}(e).then((function(){i(""),l(""),v(0),b(!1),x("")})).catch((function(e){x(e),b(!1)}))}}},z={CREATE_POST_SUCCESS:"CREATE_POST_SUCCESS"},G={CREATE_POST_ERROR:"CREATE_POST_ERROR"},X=[{id:"1",name:"Web Development"},{id:"2",name:"Mobile Development"},{id:"3",name:"Full Stack"},{id:"4",name:"Frontend Development"},{id:"5",name:"Backend Development"}],J=function(){var e=i.a.useState({title:"",tags:[],category:"",content:"",image:""}),t=Object(s.a)(e,2),n=t[0],c=t[1],r=q(),x=r.onFileChange,O=r.fileName,g=r.fileUrl,p=r.progress,v=r.loading,y=r.removeFile,T=function(e){c((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e.target.name,e.target.value))}))},D=i.a.useCallback((function(e){return c((function(t){return Object(l.a)(Object(l.a)({},t),{},{tags:e})}))}),[]);return Object(a.useEffect)((function(){c((function(e){return Object(l.a)(Object(l.a)({},e),{},{image:g})}))}),[g]),Object(C.jsx)(d.a,{children:Object(C.jsxs)(j.a,{component:"div",display:"flex",flexDirection:"column",py:3,children:[Object(C.jsx)(j.a,{component:"div",display:"flex",marginY:5,sx:{width:"50%",marginX:"auto"},children:Object(C.jsx)(u.a,{variant:"h5",fontWeight:"bold",children:"Create a new post"})}),Object(C.jsx)(b.a,{label:"Title",type:"text",name:"title",variant:"standard",onChange:T,sx:{marginBottom:"1em",marginX:"auto"},required:!0}),Object(C.jsx)(S,{label:"Add tags",variant:"standard",handleAddTag:D,sx:{marginBottom:"1em",marginX:"auto"}}),Object(C.jsx)(B,{data:X,value:n.category,label:"Category",labelId:"category",handleChange:function(e){return c((function(t){return Object(l.a)(Object(l.a)({},t),{},{category:e.target.value})}))},variant:"standard",required:!0,sx:{width:"50%",marginBottom:"1em",marginX:"auto"}}),Object(C.jsx)(b.a,{label:"Content",type:"text",name:"content",variant:"standard",onChange:T,sx:{marginBottom:"1rem",marginX:"auto"},required:!0}),Object(C.jsx)(N,{id:"createpost",variant:"outlined",progress:p,loading:v,fileName:O,wrapperStyle:{width:"50%",margin:"1em auto"},acceptOnlyFormats:[".png",".jpg",".jpeg"],handleRemoveFile:y,handleFileChange:function(e){var t;if(e.target.files&&e.target.files.length>0)return x(null===(t=e.target.files)||void 0===t?void 0:t[0])}}),Object(C.jsx)(m.a,{sx:{width:"50%",margin:"1em auto"},variant:"outlined",onClick:function(){if(!n.title||!n.content||!n.category||!n.tags.length||!n.image)return h.c.error("Please fill all the fields",{toastId:G.CREATE_POST_ERROR});Object(f.a)(n).then((function(e){return e&&h.c.success("Post saved successfully",{toastId:z.CREATE_POST_SUCCESS})})).catch((function(e){return h.c.error(e.message,{toastId:G.CREATE_POST_ERROR})}))},children:"Save"})]})})},L=n(49),K=n(92),M=n(68),Y=n(188),V=n.n(Y),H=function(){var e=Object(c.h)(),t=Object(c.e)(),n=Object(c.g)(),i=Object(c.f)("");return Object(a.useMemo)((function(){return{push:n,pathname:t.pathname,state:t.state,query:Object(l.a)(Object(l.a)(Object(l.a)({},V.a.parse(t.search)),e),{},{page:e.page,id:e.id}),match:i,location:t,history:n}}),[e,i,t,n])},Q=n(203),Z=n.n(Q),$=n(204),ee=n.n($),te=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(p.a,{component:"aside",display:"flex",justifyContent:"center",height:"100%",flex:1,children:Object(C.jsxs)(p.a,{component:"div",position:"fixed",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",marginTop:"7em",height:"8em",children:[Object(C.jsx)(Z.a,{fontSize:"medium"}),Object(C.jsx)(ee.a,{fontSize:"medium"})]})})})},ne=n(156),ae=n(252),ie=n(205),ce=n.n(ie),re=function(e){var t=e.post;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(p.a,{component:"main",flex:8,children:Object(C.jsx)(d.a,{elevation:3,children:Object(C.jsxs)(p.a,{component:"div",display:"flex",flexDirection:"column",padding:2,children:[Object(C.jsx)(ne.a,{component:"img",image:t.image,alt:t.title}),Object(C.jsxs)(p.a,{component:"div",display:"flex",marginBottom:2,paddingY:2,children:[Object(C.jsx)(ae.a,{alt:t.title,src:t.image}),Object(C.jsxs)(p.a,{component:"div",display:"flex",flexDirection:"column",ml:1,children:[Object(C.jsx)(u.a,{variant:"subtitle2",children:"John Doe"}),Object(C.jsx)(u.a,{variant:"subtitle2",fontWeight:"light",children:"Posted on Nov 27"})]})]}),Object(C.jsxs)(p.a,{component:"div",display:"flex",flexDirection:"column",marginBottom:2,children:[Object(C.jsx)(u.a,{variant:"h4",fontWeight:"bold",marginBottom:2,children:t.title}),Object(C.jsx)(u.a,{variant:"subtitle1",fontWeight:"light",fontStyle:"italic",marginBottom:2,children:t.category}),Object(C.jsx)(O.a,{direction:"row",spacing:1,marginBottom:5,children:t.tags.map((function(e){return Object(C.jsx)(g.a,{icon:Object(C.jsx)(ce.a,{}),label:e},e)}))}),Object(C.jsx)(u.a,{variant:"body1",children:t.content})]}),Object(C.jsx)(p.a,{component:"div",display:"flex",flexDirection:"column",marginBottom:2,children:Object(C.jsx)(u.a,{variant:"h5",fontWeight:"bold",children:"Discussion (n)"})})]})})})})},oe=n(244),le=Object(oe.a)((function(e){return{avatarWrapper:{"&::after":{width:"100%",height:"6%",content:'""',position:"absolute",top:0,left:0,backgroundColor:"black"}}}})),se=function(){var e=le();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(p.a,{component:"div",display:"flex",flexDirection:"column",height:"100%",flex:3,children:Object(C.jsx)(p.a,{display:"flex",flexDirection:"column",position:"sticky",top:0,children:Object(C.jsx)(d.a,{elevation:2,children:Object(C.jsxs)(p.a,{component:"div",display:"flex",flexDirection:"column",children:[Object(C.jsxs)(p.a,{component:"div",display:"flex",alignItems:"flex-end",width:"100%",marginBottom:1,padding:2,className:e.avatarWrapper,children:[Object(C.jsx)(ae.a,{alt:"profile",src:"",sx:{zIndex:"1"}}),Object(C.jsx)(p.a,{component:"div",display:"flex",flexDirection:"column",ml:1,children:Object(C.jsx)(u.a,{variant:"subtitle1",fontWeight:"bold",children:"John Doe"})})]}),Object(C.jsx)(p.a,{component:"div",display:"flex",justifyContent:"center",marginBottom:2,children:Object(C.jsx)(m.a,{variant:"contained",color:"primary",sx:{width:"80%"},children:"Follow"})}),Object(C.jsxs)(p.a,{component:"div",display:"flex",flexDirection:"column",justifyContent:"center",paddingX:2,children:[Object(C.jsx)(u.a,{variant:"subtitle1",color:"GrayText",marginBottom:2,children:"Top Rated Freelancer || Blogger || Cross-Platform App Developer || Web Developer || Open Source Contributor"}),Object(C.jsx)(u.a,{variant:"subtitle1",fontWeight:"bold",color:"GrayText",children:"LOCATION"}),Object(C.jsx)(u.a,{variant:"subtitle1",color:"GrayText",marginBottom:2,children:"Kolkata, West Bengal, India"}),Object(C.jsx)(u.a,{variant:"subtitle1",fontWeight:"bold",color:"GrayText",children:"EDUCATION"}),Object(C.jsx)(u.a,{variant:"subtitle1",color:"GrayText",marginBottom:2,children:"VIT, Chennai"}),Object(C.jsx)(u.a,{variant:"subtitle1",fontWeight:"bold",color:"GrayText",children:"JOINED"}),Object(C.jsx)(u.a,{variant:"subtitle1",color:"GrayText",marginBottom:2,children:"Dec 4, 2020"})]})]})})})})})},de=function(){var e=Object(L.b)(),t=H().query,n=Object(L.c)(K.a),i=n.post,c=n.isLoading,r=n.error;return Object(a.useEffect)((function(){return t.id&&(e(Object(M.f)(!0)),Object(f.b)(t.id).then((function(t){e(Object(M.d)(t)),e(Object(M.f)(!1))})).catch((function(t){e(Object(M.f)(!1)),e(Object(M.e)(t))}))),function(){e(Object(M.a)())}}),[t.id]),c?Object(C.jsx)(p.a,{component:"div",children:Object(C.jsx)(u.a,{variant:"h4",children:"Loading..."})}):r?Object(C.jsx)(p.a,{component:"div",children:Object(C.jsx)(u.a,{variant:"h4",children:"Error..."})}):i?Object(C.jsxs)(p.a,{component:"section",display:"flex",gap:1,height:"250vh",position:"relative",children:[Object(C.jsx)(te,{}),Object(C.jsx)(re,{post:i}),Object(C.jsx)(se,{})]}):null},je=function(){return Object(C.jsxs)(c.c,{children:[Object(C.jsx)(c.a,{path:r.a.createPost,element:Object(C.jsx)(J,{})}),Object(C.jsx)(c.a,{path:r.a.postDetail,element:Object(C.jsx)(de,{})})]})}}}]);
//# sourceMappingURL=4.298c4d6c.chunk.js.map