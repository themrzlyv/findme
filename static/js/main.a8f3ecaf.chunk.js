(this.webpackJsonpfindme=this.webpackJsonpfindme||[]).push([[0],{148:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(40),c=n.n(r),o=n(67),s=n(82),l=n(202),d=n(60),u=(n(142),n(26)),j=n(44),f={createPost:"/create"},h=Object(j.a)({home:"/findme",post:"/findme/post/*"},f),m=n(198),b=n(203),g=n(205),p=n(206),O=n(7),x=function(e){var t=e.children;return Object(O.jsxs)(m.a,{container:!0,maxWidth:"lg",mx:"auto",spacing:1,children:[Object(O.jsx)(m.a,{item:!0,xs:12,children:Object(O.jsx)(b.a,{position:"static",color:"primary",children:Object(O.jsx)(g.a,{children:Object(O.jsx)(p.a,{variant:"body2",children:"FindMe"})})})}),Object(O.jsx)(m.a,{item:!0,xs:10,children:t}),Object(O.jsx)(m.a,{item:!0,xs:2,children:"Sidebar"})]})},v=n(204),y=n(187),w=n(71);n(150),n(149),n(146);w.a.initializeApp({apiKey:"AIzaSyAIMaPjRkt4OGl0YorPyBnFiMH446bUU5I",authDomain:"findme-web-app.firebaseapp.com",projectId:"findme-web-app",storageBucket:"findme-web-app.appspot.com",messagingSenderId:"873728734687",appId:"1:873728734687:web:4e0cff13f3a17a7386406a"});w.a.auth();var S=w.a.firestore(),C=w.a.storage(),E=(w.a,n(77)),R=Object(E.b)({name:"Post",initialState:{posts:[]},reducers:{getAllPosts:function(e,t){e.posts=t.payload}}}),P=R.actions.getAllPosts,F=R.reducer,k=n(207),T=n(208),A=n(209),I=n(210),B=n(199),W=n(83),_=Object(W.a)((function(e){return e}),(function(e){return e.posts})),D=function(){var e=Object(o.c)(_).posts;return console.log(e),Object(O.jsx)(y.a,{component:"div",display:"flex",justifyContent:"space-around",sx:{width:"100%"},children:e.map((function(e){return Object(O.jsxs)(k.a,{sx:{width:"18em",maxWidth:"20em"},children:[Object(O.jsx)(T.a,{component:"img",alt:"green iguana",height:"140",image:e.image}),Object(O.jsxs)(A.a,{children:[Object(O.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.title}),Object(O.jsx)(p.a,{variant:"body2",color:"text.secondary",children:e.content.substring(0,75)})]}),Object(O.jsxs)(I.a,{children:[Object(O.jsx)(B.a,{size:"small",children:"Share"}),Object(O.jsx)(B.a,{size:"small",children:"Learn More"})]})]},e.title)}))})},U=function(){var e=Object(o.b)();return Object(a.useEffect)((function(){new Promise((function(e,t){S.collection("posts").get().then((function(e){return e.docs})).then((function(e){return e.map((function(e){return e.data()}))})).then((function(t){return e(t)})).catch((function(e){return t(e)}))})).then((function(t){return e(P(t))}))}),[]),Object(O.jsx)(y.a,{component:"div",display:"flex",padding:2,children:Object(O.jsx)(D,{})})},z=function(){return Object(O.jsx)(y.a,{component:"div",display:"flex",justifyContent:"center",marginY:3,children:Object(O.jsx)(p.a,{variant:"subtitle1",fontWeight:"bold",children:"Search, find and share development skills"})})},N=function(){return Object(O.jsx)(v.a,{elevation:2,children:Object(O.jsxs)(y.a,{component:"div",display:"flex",flexDirection:"column",justifyContent:"center",children:[Object(O.jsx)(z,{}),Object(O.jsx)(U,{})]})})},L=n(4),M=n(18),X=n(191),q=n(195),Y=n(24),H=n(190),J=n(201),K=n(120),G=n.n(K),$=function(e){var t=e.label,n=e.handleAddTag,r=e.variant,c=e.sx,o=i.a.useState([]),s=Object(M.a)(o,2),l=s[0],d=s[1],u=i.a.useState(""),j=Object(M.a)(u,2),f=j[0],h=j[1];return Object(a.useEffect)((function(){n(l)}),[l]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(q.a,{variant:r,sx:c,value:f,onKeyDown:function(e){if(!(l.length>=5)&&""!==f&&!(f.length>9))return 32===e.keyCode?(d((function(e){return[].concat(Object(Y.a)(e),[f])})),h("")):void 0},onChange:function(e){if(!(e.target.value.length>9))return l.length>=5?h(""):void h(e.target.value)},label:t,InputProps:{startAdornment:(null===l||void 0===l?void 0:l.length)>0&&Object(O.jsx)(y.a,{sx:{display:"flex"},children:l.map((function(e,t){return Object(O.jsx)(H.a,{direction:"row",gap:1,marginBottom:1,marginRight:1,children:Object(O.jsx)(J.a,{label:e,onDelete:function(){return function(e){var t=l.filter((function(t){return t!==e}));h(""),d(t)}(e)},icon:Object(O.jsx)(G.a,{fontSize:"small"})})},t)}))})}})})},Q=n(194),V=n(213),Z=n(196),ee=n(192),te=function(e){var t=e.id,n=e.sx,a=e.labelSx,i=e.label,r=e.labelId,c=e.variant,o=e.data,s=e.value,l=e.name,d=e.required,u=e.handleChange;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(V.a,{variant:c,sx:n,children:[i&&Object(O.jsx)(Z.a,{sx:a,id:r,children:i}),Object(O.jsx)(ee.a,{labelId:r,id:t,value:s,label:i,name:l,onChange:u,required:d,children:o.map((function(e){return Object(O.jsx)(Q.a,{value:e.name,children:e.name},e.id)}))})]})})},ne=n(216),ae=n(214),ie=n(215),re=n(121),ce=n.n(re),oe=function(e){var t=e.progress,n=e.fileName,a=e.handleRemoveFile;return Object(O.jsxs)(y.a,{component:"div",display:"flex",flexDirection:"column",sx:{minWidth:"10em",marginX:"2em",marginBottom:"0.6em"},children:[Object(O.jsxs)(y.a,{component:"div",display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(O.jsx)(p.a,{variant:"caption",children:n}),Object(O.jsx)(ae.a,{size:"small",onClick:function(){return a(n)},children:Object(O.jsx)(ce.a,{fontSize:"small"})})]}),Object(O.jsx)(ie.a,{variant:"determinate",value:t})]})},se=i.a.memo(oe),le=function(e){var t=e.id,n=e.wrapperStyle,a=e.handleFileChange,i=e.variant,r=e.multiple,c=e.progress,o=e.fileName,s=e.loading,l=e.acceptOnlyFormats,d=e.handleRemoveFile;return Object(O.jsxs)(y.a,{component:"div",display:"flex",alignItems:"center",style:n,children:[Object(O.jsxs)("label",{htmlFor:t,children:[Object(O.jsx)("input",{style:{display:"none"},accept:null===l||void 0===l?void 0:l.join(", "),id:t,multiple:r,type:"file",onChange:a}),Object(O.jsx)(B.a,{variant:i,component:"span",disabled:s||Boolean(o),children:s?Object(O.jsx)(ne.a,{size:20}):"Upload"})]}),c||o?Object(O.jsx)(se,{progress:c,handleRemoveFile:d,fileName:o}):null]})},de=i.a.memo(le),ue=function(){var e=Object(a.useState)(""),t=Object(M.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(""),c=Object(M.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)(!1),d=Object(M.a)(l,2),u=d[0],j=d[1],f=Object(a.useState)(""),h=Object(M.a)(f,2),m=h[0],b=h[1],g=Object(a.useState)(0),p=Object(M.a)(g,2),O=p[0],x=p[1];return{onFileChange:function(e){x(0),j(!0),b(""),s(e.name),function(e){return new Promise((function(t,n){C.ref().child("images/".concat(e.name)).put(e).then((function(e){e.ref.getDownloadURL().then((function(n){t({url:n,percent:e.bytesTransferred/e.totalBytes*100})}))})).catch((function(e){return n(e)}))}))}(e).then((function(e){var t=e.url,n=e.percent;i(t),x(n),j(!1),b("")})).catch((function(e){b(e),x(0),j(!1)}))},fileUrl:n,progress:O,error:m,loading:u,fileName:o,removeFile:function(e){j(!0),function(e){return new Promise((function(t,n){C.ref().child("images/".concat(e)).delete().then((function(e){t(e)})).catch((function(e){return n(e)}))}))}(e).then((function(){i(""),s(""),x(0),j(!1),b("")})).catch((function(e){b(e),j(!1)}))}}},je={CREATE_POST_SUCCESS:"CREATE_POST_SUCCESS"},fe={CREATE_POST_ERROR:"CREATE_POST_ERROR"},he=[{id:"1",name:"Web Development"},{id:"2",name:"Mobile Development"},{id:"3",name:"Full Stack"},{id:"4",name:"Frontend Development"},{id:"5",name:"Backend Development"}],me=function(){var e=i.a.useState({title:"",tags:[],category:"",content:"",image:""}),t=Object(M.a)(e,2),n=t[0],r=t[1],c=ue(),o=c.onFileChange,s=c.fileName,l=c.fileUrl,u=c.progress,f=c.loading,h=c.removeFile,m=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(L.a)({},e.target.name,e.target.value))}))},b=i.a.useCallback((function(e){return r((function(t){return Object(j.a)(Object(j.a)({},t),{},{tags:e})}))}),[]);return Object(a.useEffect)((function(){r((function(e){return Object(j.a)(Object(j.a)({},e),{},{image:l})}))}),[l]),Object(O.jsx)(v.a,{children:Object(O.jsxs)(X.a,{component:"div",display:"flex",flexDirection:"column",py:3,children:[Object(O.jsx)(X.a,{component:"div",display:"flex",marginY:5,sx:{width:"50%",marginX:"auto"},children:Object(O.jsx)(p.a,{variant:"h5",fontWeight:"bold",children:"Create a new post"})}),Object(O.jsx)(q.a,{label:"Title",type:"text",name:"title",variant:"standard",onChange:m,sx:{marginBottom:"1em",marginX:"auto"},required:!0}),Object(O.jsx)($,{label:"Add tags",variant:"standard",handleAddTag:b,sx:{marginBottom:"1em",marginX:"auto"}}),Object(O.jsx)(te,{data:he,value:n.category,label:"Category",labelId:"category",handleChange:function(e){return r((function(t){return Object(j.a)(Object(j.a)({},t),{},{category:e.target.value})}))},variant:"standard",required:!0,sx:{width:"50%",marginBottom:"1em",marginX:"auto"}}),Object(O.jsx)(q.a,{label:"Content",type:"text",name:"content",variant:"standard",onChange:m,sx:{marginBottom:"1rem",marginX:"auto"},required:!0}),Object(O.jsx)(de,{id:"createpost",variant:"outlined",progress:u,loading:f,fileName:s,wrapperStyle:{width:"50%",margin:"1em auto"},acceptOnlyFormats:[".png",".jpg",".jpeg"],handleRemoveFile:h,handleFileChange:function(e){var t;if(e.target.files&&e.target.files.length>0)return o(null===(t=e.target.files)||void 0===t?void 0:t[0])}}),Object(O.jsx)(B.a,{sx:{width:"50%",margin:"1em auto"},variant:"outlined",onClick:function(){if(!n.title||!n.content||!n.category||!n.tags.length||!n.image)return d.c.error("Please fill all the fields",{toastId:fe.CREATE_POST_ERROR});var e;(e=n,new Promise((function(t,n){S.collection("posts").add(e).then((function(e){return e.get()})).then((function(e){return t(e.exists)})).catch((function(e){return n(e)}))}))).then((function(e){return e&&d.c.success("Post saved successfully",{toastId:je.CREATE_POST_SUCCESS})})).catch((function(e){return d.c.error(e.message,{toastId:fe.CREATE_POST_ERROR})}))},children:"Save"})]})})},be=function(){return Object(O.jsx)(u.c,{children:Object(O.jsx)(u.a,{path:h.createPost,element:Object(O.jsx)(me,{})})})},ge=function(){return Object(O.jsx)(x,{children:Object(O.jsxs)(u.c,{children:[Object(O.jsx)(u.a,{element:Object(O.jsx)(N,{}),path:h.home}),Object(O.jsx)(u.a,{element:Object(O.jsx)(be,{}),path:h.post})]})})},pe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,217)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))},ve=n(42),ye=Object(ve.b)({posts:F}),we=Object(E.a)({reducer:ye,devTools:!1}),Se=n(112),Ce=n(61),Ee=Object(Se.a)({palette:{primary:{main:Ce.a[800],light:Ce.a[400],dark:Ce.a[900]}},components:{MuiTextField:{styleOverrides:{root:{width:"50%"}}}}});c.a.render(Object(O.jsx)(s.a,{children:Object(O.jsx)(o.a,{store:we,children:Object(O.jsxs)(l.a,{theme:Ee,children:[Object(O.jsx)(ge,{}),Object(O.jsx)(d.b,{theme:"colored",position:"bottom-right",autoClose:2e3,transition:d.a,hideProgressBar:!0,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0})]})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/findme",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/findme","/service-worker.js");pe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Oe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Oe(t,e)}))}}(),xe()}},[[148,1,2]]]);
//# sourceMappingURL=main.a8f3ecaf.chunk.js.map